@model HotelManagementSystem.ViewModel.AccomodationPackageDetailsViewModel

@if (Model != null && Model.AccomodationPackage != null)
{

    <section class="ftco-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-md-12 ftco-animate">
                            <div class="single-slider owl-carousel">

                                @if (Model.AccomodationPackage.AccomodationPackagePictures != null && Model.AccomodationPackage.AccomodationPackagePictures.Count > 0)
                                {

                                    foreach (var accomodationPackagePicture in Model.AccomodationPackage.AccomodationPackagePictures)
                                    {

                                        var imageURL = accomodationPackagePicture.Picture != null ? accomodationPackagePicture.Picture.URL : "room-1.jpg";
                                        <div class="item">
                                            <div class="room-img" style="background-image: url(/images/site/@imageURL);"></div>
                                        </div>
                                    }
                                }


                            </div>
                        </div>
                        <div class="col-md-12 room-single mt-4 mb-5 ftco-animate">
                            <h2 class="mb-4">@Model.AccomodationPackage.AccomodationType.Name</h2>
                            <h1>@Model.AccomodationPackage.Name <span>- (@Model.AccomodationPackage.NoOfRoom Available rooms)</span></h1>
                            <p>When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, then she continued her way.</p>
                            <div class="d-md-flex mt-5 mb-5">
                                <ul class="list">
                                    <li><span>Max:</span> 3 Persons</li>
                                    <li><span>FeePerNight:</span> $ @Model.AccomodationPackage.FeePerNight</li>
                                </ul>
                                <ul class="list ml-md-5">
                                    <li><span>View:</span> Sea View</li>
                                    <li><span>Bed:</span> 1</li>
                                </ul>
                            </div>
                            <p>When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, then she continued her way.</p>
                        </div>
                        <div class="col-md-12 room-single ftco-animate mb-5 mt-4">
                            <h3 class="mb-4">Take A Tour</h3>
                            <div class="block-16">
                                <figure>
                                    @{
                                        var thumnailPicture = Model.AccomodationPackage.AccomodationPackagePictures != null && Model.AccomodationPackage.AccomodationPackagePictures.Count > 0
                                    ? Model.AccomodationPackage.AccomodationPackagePictures.First() : new HMS.Entities.AccomodationPackagePicture();

                                        var thumbnailURL = thumnailPicture.Picture != null ? thumnailPicture.Picture.URL : "room-1.jpg";
                                    }

                                    <img src="~/images/site/@thumbnailURL" alt="Image placeholder" class="img-fluid">
                                    <a href="https://vimeo.com/45830194" class="play-button popup-vimeo"><span class="icon-play"></span></a>
                                </figure>
                            </div>
                        </div>

                        <div class="col-md-12 properties-single ftco-animate mb-5 mt-4">
                            <h4 class="mb-4">Review &amp; Ratings</h4>
                            <div class="row">
                                <div class="col-md-6">
                                    <form method="post" class="star-rating">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                            <label class="form-check-label" for="exampleCheck1">
                                                <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i> 100 Ratings</span></p>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                            <label class="form-check-label" for="exampleCheck1">
                                                <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-o"></i> 30 Ratings</span></p>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                            <label class="form-check-label" for="exampleCheck1">
                                                <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-o"></i><i class="icon-star-o"></i> 5 Ratings</span></p>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                            <label class="form-check-label" for="exampleCheck1">
                                                <p class="rate"><span><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-o"></i><i class="icon-star-o"></i><i class="icon-star-o"></i> 0 Ratings</span></p>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                            <label class="form-check-label" for="exampleCheck1">
                                                <p class="rate"><span><i class="icon-star"></i><i class="icon-star-o"></i><i class="icon-star-o"></i><i class="icon-star-o"></i><i class="icon-star-o"></i> 0 Ratings</span></p>
                                            </label>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- .col-md-8 -->
            </div>
        </div>
    </section> <!-- .section -->

    <section class="ftco-section contact-section bg-light">
        <div class="container">
            <div class="row d-flex mb-5 contact-info">
                <div class="col-md-12">
                    <h2 class="h3">Confirm Booking</h2>
                </div>
            </div>
            <div class="row block-9">
                <div class="col-md-9 order-md-last d-flex">
                    <form action="#" id="frmConfirmBooking" class="bg-white p-5 contact-form">
                        <input type="hidden" name="AccomodationPackageID" value="@Model.AccomodationPackage.ID" />
                        <div class="row form-group">
                            <div class="col-md-6">
                                <label for="FromDate">Check In Date</label>
                                <input type="text" data-provide="datepicker" data-date-format="mm/dd/yyyy" id="FromDate" name="FromDate" class="form-control" placeholder="Check In Date" autocomplete="off">
                            </div>
                            <div class="col-md-6">
                                <label for="Duration">Duration of Stay Nights</label>
                                <select id="Duration" name="Duration" class="form-control" placeholder="Duration of Stay Nights">
                                    @for (int i = 1; i <= 10; i++)
                                    {
                                        <option value="@i">
                                            @i
                                        </option>
                                    }
                                </select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-6">
                                <label for="NoOfAdults">No of Adults</label>
                                <input type="number" id="NoOfAdults" name="NoOfAdults" class="form-control" value="1" min="1" max="10">
                            </div>
                            <div class="col-md-6">
                                <label for="NoOfChildren">No of Children</label>
                                <input type="number" id="NoOfChildren" name="NoOfChildren" class="form-control" value="0" min="0" max="10">
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-6">
                                <label for="Name">Guest Name</label>
                                <input type="text" id="Name" name="Name" class="form-control" placeholder="Guest Name" autocomplete="off">
                            </div>
                            <div class="col-md-6">
                                <label for="Email">Email</label>
                                <input type="text" id="Email" name="Email" class="form-control" placeholder="Your Email Address" autocomplete="off">
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-12">
                                <label for="Notes">Add Special Notes</label>
                                <textarea name="Notes" id="Notes" cols="30" rows="10" class="form-control" placeholder="Add Special Notes"></textarea>
                            </div>
                        </div>
                        <div class="form-group text-center">
                            <input type="button" id="btnCheckAvailability" value="Check Availability" class="btn btn-primary py-3 px-5">
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </section>
}

<script>
    $("#btnCheckAvailability").click(function () {
    $.ajax({
        url: '@Url.Action("CheckAvailability","Accomodations")',
        data: $("#frmConfirmBooking").serialize()
    })
        .done(function (response) {
            $("#actionModal .modal-dialog").html(response)
        });
});
</script>
